\chapter{Refactoring the Modeling Framework}

% \chapter{Modeling}
% 
% By far the most challenging aspect of this work was the creation of the models.  By constructing the simulation framework as a set of Java interfaces and abstract classes it meant that the framework was almost entirely extensible in any direction.  We found this very refreshing during the first few development iterations of the framework and model.  We created different Actor types and different sub-Actors within those types.  Each transition used an anonymous method containing logic for enabling the transition.  Eventually as our model grew in size and complexity the freedom of the Java language became a dual edged sword.  Our model was full of implicit declarations, inconsistencies, duplicated code, and anonymous methods.  It became extremely difficult to maintain the model let alone add to it.
% 
% \section{Making modeling easier}
% To help improve the modeling experience we chose to 